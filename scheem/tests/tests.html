<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>Mocha Tests</title>
  <link rel="stylesheet" href="tests_files/mocha.css">
  <script src="tests_files/jquery-1.js">
  </script>
  <script src="tests_files/chai.js">
  </script>
  <script src="tests_files/mocha.js">
  </script>
  <script>mocha.setup('tdd')</script>
  <script>
var assert = chai.assert;

// A half-baked implementation of evalScheem
var evalScheem = function (expr, env) {
    // Numbers evaluate to themselves
    if (typeof expr === 'number') {
        return expr;
    }
    // Look at head of list for operation
    switch (expr[0]) {
        case '+':
            return evalScheem(expr[1], env) +
                   evalScheem(expr[2], env);
        case 'quote':
            return expr[1];
    }
};

// Some unit tests

suite('quote', function() {
    test('a number', function() {
        assert.deepEqual(
            evalScheem(['quote', 3], {}),
            3
        );
    });
    test('an atom', function() {
        assert.deepEqual(
            evalScheem(['quote', 'dog'], {}),
            'dog'
        );
    });
    test('a list', function() {
        assert.deepEqual(
            evalScheem(['quote', [1, 2, 3]], {}),
            [1, 2, 3]
        );
    });
});
suite('add', function() {
    test('two numbers', function() {
        assert.deepEqual(
            evalScheem(['+', 3, 5], {}),
            8
        );
    });
    test('a number and an expression', function() {
        assert.deepEqual(
            evalScheem(['+', 3, ['+', 2, 2]], {}),
            7
        );
    });
    test('a dog and a cat', function() {
        assert.deepEqual(
            evalScheem(['+', 'dog', 'cat'], {}),
            42
        );
    });
    test('two plus two', function(){
        assert.deepEqual(
            evalScheem(['+', 2, 2], {}),
            4
        );
    })
});

  </script>
  <script>
    $(function(){
      mocha.run();
    });
  </script>
</head>
<body>
  <div id="mocha"><ul id="stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes">passes: <em>5</em></li><li class="failures">failures: <em>1</em></li><li class="duration">duration: <em>0.33</em>s</li></ul><div class="suite"><h1>quote</h1><div><div class="test pass fast"><h2>a number<span class="duration">1ms</span></h2><pre style="display: none;"><code>assert.deepEqual(evalScheem(["quote", <span class="number">3</span>], {}), <span class="number">3</span>);</code></pre></div><div class="test pass fast"><h2>an atom<span class="duration">0ms</span></h2><pre style="display: none;"><code>assert.deepEqual(evalScheem(["quote", "dog"], {}), "dog");</code></pre></div><div class="test pass fast"><h2>a list<span class="duration">1ms</span></h2><pre style="display: none;"><code>assert.deepEqual(evalScheem(["quote", [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]], {}), [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</code></pre></div></div></div><div class="suite"><h1>add</h1><div><div class="test pass fast"><h2>two numbers<span class="duration">0ms</span></h2><pre style="display: none;"><code>assert.deepEqual(evalScheem(["+", <span class="number">3</span>, <span class="number">5</span>], {}), <span class="number">8</span>);</code></pre></div><div class="test pass fast"><h2>a number and an expression<span class="duration">0ms</span></h2><pre style="display: none;"><code>assert.deepEqual(evalScheem(["+", <span class="number">3</span>, ["+", <span class="number">2</span>, <span class="number">2</span>]], {}), <span class="number">7</span>);</code></pre></div><div class="test fail"><h2>a dog and a cat</h2><pre class="error">expected NaN to equal 42</pre><pre style="display: none;"><code>assert.deepEqual(evalScheem(["+", "dog", "cat"], {}), <span class="number">42</span>);</code></pre></div></div></div></div>


</body></html>
